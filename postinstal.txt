+ Remove unused apps
sudo pacman -R gnome-calendar cheese gnome-contacts simple-scan gnome-maps gnome-music malcontent gnome-photos gnome-software xterm totem gnome-weather epiphany vim
	

+ Install:
sudo pacman -S xf86-video-amdgpu vulkan-radeon libva-mesa-driver mesa-vdpau lib32-libva-mesa-driver lib32-mesa-vdpau gnome-tweaks firefox vlc htop gnome-terminal dconf-editor adwaita-qt5 adwaita-qt6 smplayer exfat-utils virt-manager dnsmasq bridge-utils qemu-desktop hdparm mesa-utils tldr

#gnome-boxes 
	
yay -S pamac-aur gnome-browser-connector adw-gtk3 adw-gtk-theme papirus-icon-theme timeshift ibus-bamboo ibus-daemon adobe-source-han-serif-otc-fonts adobe-source-han-sans-otc-fonts adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts adobe-source-han-sans-jp-fonts adobe-source-han-serif-jp-fonts debtap gpu-passthrough-manager freedownloadmanager

+ Update debtab
sudo debtap -u
//Incase of any of the above packages can't be install, download it and then use: debtab pkgname.deb to create an pkgname.zst.  Then we can use: sudo pacman -U pkgname.zst to install the package.

+ Use firefox to install gnome extensions:
	Rounded Window Corners by yilozt
	Dash to Panel by charlesg99
	Gtk4, GSconnect, Desktop Icons NG (DING) by smedius
	GSConnect by dlandau
	Gnome 4x UI Improvements by AXP
	AppIndicator and KStatusNotifierItem Support by 3v1n0
	Arch Linux Updates Indicator by RaphaelR
	Hide Top Bar by tuxor1337
	Dash to Dock by michele_g
	Custom Hot Corners - Extended by GdH
	ArcMenu by andrew.zaech
	Vitals by corecoding
	
	
+ Use gnome-tweaks to select icons Papirus-Dark

+ Make GTK slim
#mkdir ~/.config/gtk-3.0
#mkdir ~/.config/gtk-4.0
#cp gtk.css ~/.config/gtk-3.0/
#cp gtk.css ~/.config/gtk-4.0/

+ QT app theme:
echo "[Qt]" >> ~/.config/Trolltech.conf
echo "style=Adwaita-Dark" >> ~/.config/Trolltech.conf
echo "export QT_STYLE_OVERRIDE=Adwaita-Dark" >> ~/.bash_profile

+ Đánh tiếng Việt: restart/logout rồi thêm keyboard Vietnamese(Bamboo)
	
+ Settup fonts
sudo cp -R Roboto /usr/share/fonts/
//to get out: dconf dump / > dconf.dump
//to load: dconf load / < dconf.dump
dconf load / < dconf.dump
cp -Rf  vlc ~/.config/
cp -Rf  smplayer ~/.config/
	
+ Use pamac to remove orphan apps or: sudo pacman -Qtdq | sudo pacman -Rns -

+ Set user become autologin

+ To make Timeshift work, make sure /etc/fstab use all UUID instead of label

+ Mount WORKSPACE & TNTDATA
get userid groupid by:
id
add uid=xxxx,gid=yyyy to the options

cd /run/media
sudo mkdir /run/media/TNTDATA
sudo chown -R thanhtran:thanhtran TNTDATA
sudo chmod 555 TNTDATA
sudo mount -o nofail,rw,noatime,uid=1000,gid=1001 /dev/sda1 /run/media/TNTDATA
	
#sudo mkdir /run/media/WORKSPACE
#sudo chown -R thanhtran:thanhtran WORKSPACE
#sudo chmod 555 WORKSPACE
#sudo mount -o nofail,rw,noatime,uid=1000,gid=1001 /dev/nvme1n1p1 /run/media/WORKSPACE
	
genfstab /
-
copy to new fstab for TNTDATA & WORKSPACE to /etc/fstab

sudo sensors-detect

+ Copy file 60-ioschedulers.rules to /etc/udev/rules.d/ to have better scheduler for NVME/SSD/HDD
	Reboot and check if scheduler is correct by: grep "" /sys/block/*/queue/scheduler
	This will show default scheduler in []


+ Virt-manager
- Make current user is in libvirt group
	sudo usermod -a -G libvirt $(whoami)
- Enable virtual add "intel_iommu=on iommu=pt " and update grub
	sudo grub-mkconfig -o /boot/grub/grub.cfg
- Change group in /etc/libvirt/qemu.conf to libvirt
- Enable libvirtd, and virtlogd services:
	sudo systemctl enable libvirtd
	sudo systemctl enable virtlogd
- Start these services:
	sudo systemctl start libvirtd
	sudo systemctl start virtlogd
	
	# Start automatically NAT virtual network
	sudo virsh net-autostart default
	
	# Start automatically bridge network
	# Get its name first - in this case virbr0
	sudo nmcli connection show
	# Make it autostart
	nmcli con mod virbr0 connection.autoconnect yes

- If has guest's network problem, try:	
	sudo virsh net-start default
	# Show bridge network
	sudo nmcli connection show
	sudo nmcli connection up virbr0


- Allow current user to access block devices:
	+ List info of the block device
	udevadm info -a -n /dev/nvme0n1
	udevadm info -a -n /dev/nvme1n1
	udevadm info -a -n /dev/sdx
	+ Create a file in /etc/udev/rules.d/ let's name: 99-myrules.rules
	SUBSYSTEM=="block", ATTRS{uuid}=="00000000-0100-0000-e4d2-5c638e664f01", ATTRS{wwid}=="eui.0000000001000000e4d25c638e664f01", ACTION=="add", RUN+="/bin/setfacl -m g:libvirt:rw- /dev/$name"
	Change uuid, wwid for each device
	In case of SSD or HDD: use idProduct and serial instead
- Windows guest will use channel as:
	<channel type="spicevmc">
	  <target type="virtio" name="com.redhat.spice.0" state="disconnected"/>
	  <alias name="channel0"/>
	  <address type="virtio-serial" controller="0" bus="0" port="1"/>
	</channel>




	
+ Change default audio sample rate
Edit /etc/pulse/daemon.conf: default-sample-format = s32le, default-sample-rate = 96000, alternate-sample-rate = 48000
Restart audio service: pulseaudio -k
Check current bitrate: pactl list sink-inputs, pactl list sources



+ To know how to use a command, just use: tldr command_name



+ Pacman command options:
- Update:
	sudo pacman -Sy
	sudo pacman -Syu
- Clear:
	sudo pacman -Sc
- Remove package:
	sudo pacman -R pkgname
- Remove package and all it's dependencies
	sudo pacman -Rcns pkgname
- Install a package
	sudo pacman -S pkgname
- Install local package:
	sudo pacman -U pkgname
- Search for a package:
	sudo pacman -Ss pkgname
	pacsearch -n ^name
	pacsearch -n name
- Search for an installed package:
	sudo pacman -Q pkgname
	sudo pacman -Qi pkgname
- Search all orphans
	sudo pacman -Qdt
- Remove all orphans recursively:
	sudo pacman -Qtdq | sudo pacman -Rns -
	

+ List all groups:
	cut -d: -f1 /etc/group
+ List all users:
	cut -d: -f1 /etc/passwd
	
+ ffmpeg convert file
	ffmpeg -i infile.xxx -ss 00:00:12 -to 00:05:17 -vn -ar 48000 -ac 2 -b:a 320k out_file.mp3
	
